---
title: "ETC5521: Exploratory Data Analysis"
author: "Di Cook"
---

```{r setup, include = FALSE}
# please add any R-packages used here in DESCRIPTION imports
library(yaml)
library(tibble)
library(dplyr)
library(stringr)
library(purrr)
library(glue)
library(knitr)
library(kableExtra)
knitr::opts_chunk$set(echo = FALSE)
```

```{r fns}
make_rectangular <- function(.data) {
  map_dfr(.data, ~tibble(!!!.x))
}


ui_list <- function(vec) {
  for(x in vec) {
    cat("-", x, "\n")
  }
}

```


```{r staffs}
dat <- read_yaml("_course.yml")
team_df <- make_rectangular(dat$team)
schedule_df <- make_rectangular(dat$schedule)

nlecturer <- sum(team_df$role=="lecturer")
ntutor <- sum(team_df$role=="tutor")
```


## Lecturer`r ifelse(nlecturer > 1, 's', '')`

```{r lecturers, results="asis"}
team_df %>% 
  filter(role=="lecturer") %>% 
  pull(name) %>% 
  ui_list()
```

## Tutor`r ifelse(ntutor > 1, 's', '')`

```{r tutors, results="asis"}
team_df %>% 
  filter(role=="tutor") %>% 
  pull(name) %>% 
  ui_list()
```

## Consultations

All consultations will be in person and zoom. Check Moodle for the links.

```{r consult, results="asis"}
team_df %>% 
  mutate(name = gsub(" (Chief Examiner)", "", name, fixed = T)) %>% 
  mutate(consult_print = glue::glue("**{name}**: {consult}")) %>% 
  pull(consult_print) %>% 
  ui_list()
```


## Tentative Schedule

* Lecture: **Thu 08:00-10:00** CL_Col-21.Eng-Lec_E1 (see Moodle for zoom link)
* Tutorials: one of the following
  * **Thu 15:00-16:30** CL_Anc-19.LTB_132 
  * **Thu 16:30-18:00** CL_Anc-19.LTB_132

```{r}
schedule_df <- schedule_df %>%
  mutate(week_num = as.numeric(str_sub(week, 1, 2)))
schedule_df <- schedule_df %>% 
  mutate(lecture_a = file.exists(sprintf("lectures/lecture-%.2dA.html", week_num)),
         lecture_b = file.exists(sprintf("lectures/lecture-%.2dB.html", week_num)),
         tutorial = file.exists(sprintf("tutorials/tutorial-%.2d.html", week_num)),
         solution = file.exists(sprintf("tutorials/tutorial-%.2dsol.html", week_num))) %>%  
  mutate(slides = case_when(
    lecture_a & lecture_b ~ glue("A: ","<a class='fa fa-link' href='lectures/{sprintf(\"lecture-%.2dA.html\", week_num)}' target='_blank'></a> <a class='fab fa-r-project' href='lectures/{sprintf(\"lecture-%.2dA.Rmd\", week_num)}' target='_blank'></a> <a class='fa fa-file-pdf' href='lectures/{sprintf(\"lecture-%.2dA.pdf\", week_num)}' target='_blank'></a>"," ; ", "B: ","<a class='fa fa-link' href='lectures/{sprintf(\"lecture-%.2dB.html\", week_num)}' target='_blank'></a> <a class='fab fa-r-project' href='lectures/{sprintf(\"lecture-%.2dB.Rmd\", week_num)}' target='_blank'></a> <a class='fa fa-file-pdf' href='lectures/{sprintf(\"lecture-%.2dB.pdf\", week_num)}' target='_blank'></a>"),
    lecture_a ~ glue("A: ","<a class='fa fa-link' href='lectures/{sprintf(\"lecture-%.2dA.html\", week_num)}' target='_blank'></a> <a class='fab fa-r-project' href='lectures/{sprintf(\"lecture-%.2dA.Rmd\", week_num)}' target='_blank'></a> <a class='fa fa-file-pdf' href='lectures/{sprintf(\"lecture-%.2dA.pdf\", week_num)}' target='_blank'></a>"),
    TRUE ~ ""
  ),
  tut = case_when(
    tutorial & solution ~ glue("<a class='fa fa-tasks' href='tutorials/{sprintf(\"tutorial-%.2d\", week_num)}.html' target='_blank'></a> <a class='fa fa-wrench' href='tutorials/{sprintf(\"tutorial-%.2d\", week_num)}.qmd' target='_blank'></a> <a class='fa fa-lightbulb' href='tutorials/{sprintf(\"tutorial-%.2d\", week_num)}sol.html' target='_blank'></a>"),
    tutorial ~ glue("<a class='fa fa-tasks' href='tutorials/{sprintf(\"tutorial-%.2d\", week_num)}.html' target='_blank'></a>"),
    TRUE ~ ""
  ),
  topic = ifelse(is.na(topic), "", topic),
  readings = ifelse(is.na(readings), "", readings),
  assessment = ifelse(is.na(assessment), "", assessment)) %>% 
  select(week, slides, tut, topic, readings, assessment)


midsem_break <- 9 + 1 # after which week # needs the fix after week 0 was added

schedule_df %>% 
  kable(escape = FALSE, align = c("c", "c", "c", "l", "l", "l"),
        col.names = c("Week", "Slides", "Tutorial", 
                      "Topic", "Readings", "Assessments")) %>% 
  kable_styling(bootstrap_options = "striped",
                fixed_thead = T) %>% 
  column_spec(1, width = "0.5cm") %>% 
  column_spec(2, width = "1cm") %>% 
  column_spec(3, width = "1cm") %>% 
  column_spec(6, width = "6cm") %>% 
  group_rows("Mid-semester Break (1 week) - no lectures or tutorials", midsem_break + 1, 12, label_row_css = "background-color: #d9e1e8;") %>% 
  add_indent(1:midsem_break) # this needs to be done to match up with above
```

## Expectations

* The **moodle discussion forum** is appropriate for **ALL questions** related to the course. Only queries about a personal issue, a confidential or an administrative matter, will be addressed by direct email to ETC5521.Clayton-x@monash.edu. 
* Email should not to be sent to individual instructor (lecture or tutor) addresses for any reason, and will not receive a response.
* Lectures will be recorded, and you are expected to have either attended the lecture, or watched the recordings fully, prior to the tutorial.
* Tutorials are not recorded, and attendance is required.
* It is your responsibility to catch up with any missed material, learn about due dates for material to be turned in, and getting assigned to a group for team work, as necessary.
* Bring your own laptop to the computer labs. If you need a laptop it is possible to get a [loan from the Monash library](https://msa.monash.edu/services/msa-library/borrowing/gadgets/) and Monash can help by [providing discounts](https://www.monash.edu/esolutions/students/bring-your-own-device-byod) or scholarships to purchase your own equipment.
* The computer software [R](https://cran.r-project.org) and the [RStudio IDE](https://posit.co/products/open-source/rstudio/) will be used for the unit, with reports produced using [Rmarkdown](https://rmarkdown.rstudio.com) or [quarto](https://quarto.org). A good working knowledge of [git](https://git-scm.com) and [GitHub](https://github.com) is assumed.
* We strongly encourage that all of your work is stored in your GitHub account, in a repo created for this unit. This will ensure that you have access if you need to borrow a laptop, or if your own laptop crashes. The class assignments will be done using Github classroom to enable collaborative work.
* Working collaboratively is designed to be enrich your learning, but it can be challenging. We encourage you to read [Monash's guide](https://www.monash.edu/learnhq/resources/collaborate-with-others) before starting your first group assignment.
* Students are encouraged to use Generative AI, but it needs to be [acknowledged following the Monash guide](https://www.monash.edu/learnhq/build-digital-capabilities/create-online/acknowledging-the-use-of-generative-artificial-intelligence). The full script of the conversation and responses needs to be included as an Appendix on your submitted assessment. 

## Learning outcomes

On successful completion of this unit, you should be able to:

1. learn to use modern data exploration tools with real data to uncover interesting structure and unusual observations

2. understand how to map out appropriate analyses, and to define what we would expect to see in the data

3. be able to compute null samples in order to test apparent patterns, and to interpret the results of visual inference

4. critically assess the strength and adequacy of a data analysis.
